<%- include('../partials/header') %>

<div class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        <% videos.forEach(function(video) { %>
            <%- include('../partials/video-card', { video: video }) %>
        <% }); %>
    </div>

    <% if (videos.length === 0) { %>
        <div class="text-center py-8">
            <h2 class="text-xl font-semibold mb-2">No videos found</h2>
            <p class="text-gray-600">Be the first to upload a video!</p>
        </div>
    <% } %>

    <!-- Pagination -->
    <% if (totalPages > 1) { %>
        <div class="flex justify-center mt-8 space-x-2">
            <% if (hasPrevPage) { %>
                <a href="?page=<%= prevPage %>" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Previous</a>
            <% } %>
            
            <% if (hasNextPage) { %>
                <a href="?page=<%= nextPage %>" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Next</a>
            <% } %>
        </div>
    <% } %>
</div>

<!-- Upload button for mobile -->
<% if (typeof user !== 'undefined' && user) { %>
    <a href="/videos/upload" class="floating-upload md:hidden">
        <i class="fas fa-plus"></i>
    </a>
<% } %>

<%- include('../partials/footer') %> 